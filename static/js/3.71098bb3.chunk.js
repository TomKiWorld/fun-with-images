(this["webpackJsonpfun-with-images"]=this["webpackJsonpfun-with-images"]||[]).push([[3],{245:function(e,t,n){},246:function(e,t,n){},248:function(e,t,n){"use strict";n.r(t);var s=n(7),i=n(8),a=n(10),o=n(9),r=n(0),l=n.n(r),c=(n(245),n(246),function(e){var t=e.id,n=e.url,s=e.onResubmit;return l.a.createElement("div",{id:"ImageCard-".concat(t),className:"ImageCard",style:{backgroundImage:'url("'.concat(n,'")')}},l.a.createElement("button",{className:"card-button",onClick:function(){return s(n)}},"Resubmit"))}),u=n(17),h=n(48),m=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;Object(s.a)(this,n),(i=t.call(this,e)).state={style:{}};return i.width=null,i.height=null,i.left=null,i.top=null,i.transitionTimeout=null,i.updateCall=null,i.element=null,i.settings=Object.assign({},{reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0},i.props.options),i.reverse=i.settings.reverse?-1:1,i.onMouseEnter=i.onMouseEnter.bind(Object(h.a)(i),i.props.onMouseEnter),i.onMouseMove=i.onMouseMove.bind(Object(h.a)(i),i.props.onMouseMove),i.onMouseLeave=i.onMouseLeave.bind(Object(h.a)(i),i.props.onMouseLeave),i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.element=document.getElementById(this.props.elementId)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}},{key:"onMouseEnter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:Object(u.a)(Object(u.a)({},this.state.style),{},{willChange:"transform"})})),this.setTransition(),e(t)}},{key:"reset",value:function(){var e=this;window.requestAnimationFrame((function(){e.setState(Object.assign({},e.state,{style:Object(u.a)(Object(u.a)({},e.state.style),{},{transform:"perspective(".concat(e.settings.perspective,"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)")})}))}))}},{key:"onMouseMove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;return t.persist(),null!==this.updateCall&&window.cancelAnimationFrame(this.updateCall),this.event=t,this.updateCall=requestAnimationFrame(this.update.bind(this,t)),e(t)}},{key:"setTransition",value:function(){var e=this;clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:Object(u.a)(Object(u.a)({},this.state.style),{},{transition:"".concat(this.settings.speed,"ms ").concat(this.settings.easing)})})),this.transitionTimeout=setTimeout((function(){e.setState(Object.assign({},e.state,{style:Object(u.a)(Object(u.a)({},e.state.style),{},{transition:""})}))}),this.settings.speed)}},{key:"onMouseLeave",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;return this.setTransition(),this.settings.reset&&this.reset(),e(t)}},{key:"getValues",value:function(e){var t=(e.nativeEvent.clientX-this.left)/this.width,n=(e.nativeEvent.clientY-this.top)/this.height,s=Math.min(Math.max(t,0),1),i=Math.min(Math.max(n,0),1);return{tiltX:(this.reverse*(this.settings.max/2-s*this.settings.max)).toFixed(2),tiltY:(this.reverse*(i*this.settings.max-this.settings.max/2)).toFixed(2),percentageX:100*s,percentageY:100*i}}},{key:"updateElementPosition",value:function(){var e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}},{key:"update",value:function(e){var t=this.getValues(e);this.setState(Object.assign({},this.state,{style:Object(u.a)(Object(u.a)({},this.state.style),{},{transform:"perspective(".concat(this.settings.perspective,"px)\n                      rotateX(").concat("x"===this.settings.axis?0:t.tiltY,"deg)\n                      rotateY(").concat("y"===this.settings.axis?0:t.tiltX,"deg)\n                      scale3d(").concat(this.settings.scale,", ").concat(this.settings.scale,", ").concat(this.settings.scale,")")})})),this.updateCall=null}},{key:"render",value:function(){var e=Object.assign({},this.props.style,this.state.style);return l.a.createElement("div",{style:e,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,options:{max:25}},this.props.children)}}]),n}(r.Component),p=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this)).onSubmitRemoval=function(){fetch("".concat(i.props.database,"/profile-removal/").concat(i.props.userId),{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({email:i.props.userEmail,id:i.props.userId})}).then((function(e){return e.json()})).then((function(e){alert(e)})).then((function(){return i.props.onRouteChange("signin")})).catch((function(e){return alert("Unable to remove profile")}))},i.state={images:[]},i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(this.props.database,"/profile-images/").concat(this.props.userId)).then((function(e){return e.json()})).then((function(t){t.length&&e.setState({images:t})})).catch((function(e){return console.log("Could not fetch images")}))}},{key:"render",value:function(){var e=this.props,t=e.userId,n=e.userName,s=e.entries,i=e.onResubmit,a=1!==t?l.a.createElement("button",{className:"remove-button",onClick:this.onSubmitRemoval},"Delete your profile"):"",o=s>0?l.a.createElement("div",null,l.a.createElement("p",null,"Thank you for using the app ",s," times so far!!"),l.a.createElement("h3",null,"The following images were submitted by you:"),l.a.createElement("p",null,"Note: Some images might have been submitted multipale times")):l.a.createElement("h3",null,"You haven't submitted any images yet.. "),r=s>0?l.a.createElement("p",null,"Loading..."):l.a.createElement("p",null,"Go ahead and submit ",l.a.createElement("span",{role:"img","aria-label":"Smirking Face"},"\ud83d\ude0f"));return this.state.images.length&&(r=this.state.images.map((function(e){return l.a.createElement(m,{key:e.id,elementId:"ImageCard-".concat(e.id)},l.a.createElement(c,{key:e.id,id:e.id,url:e.url,onResubmit:i}))}))),l.a.createElement("article",{className:"profile pa4 mb4"},l.a.createElement("h2",null,"Hi ",l.a.createElement("span",{className:"capitalize"},n)),o,a,l.a.createElement("section",{className:"images-container"},r))}}]),n}(r.Component);t.default=p}}]);
//# sourceMappingURL=3.71098bb3.chunk.js.map