(this["webpackJsonpfun-with-images"]=this["webpackJsonpfun-with-images"]||[]).push([[5],{246:function(e,t,r){"use strict";r.r(t);var a=r(32),s=r(16),n=r(17),o=r(19),i=r(18),m=r(0),l=r.n(m),c=r(43),p=r(44),h=r(2),u=function(e){Object(o.a)(r,e);var t=Object(i.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this)).handleKeyUp=function(e){13===e.keyCode&&document.querySelector(".register").click()},n.sanitize=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return e.replace(/[&<>"'/]/gi,(function(e){return t[e]}))},n.onFieldChange=function(e,t){n.setState(Object(a.a)({},t,e.target.value))},n.onSubmitRegister=function(e){e.preventDefault();var t=n.state,r=t.name,a=t.email,s=t.password,o=!1,i=!1,m=!1;""!==r?(r=n.sanitize(r),n.setState({name:r}),o=!0,n.setState({nameError:""})):n.setState({nameError:"Please enter your name"}),""!==a&&/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(a)?(i=!0,n.setState({emailError:""})):n.setState({emailError:"Please enter your email"}),""!==s?(m=!0,n.setState({passwordError:""})):n.setState({passwordError:"Please enter your password"}),o&&i&&m?fetch("".concat(h.c,"/register"),{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({name:r,email:a,password:s})}).then((function(e){return e.json()})).then((function(e){e.id?(n.props.loadUser(e),n.setState({registerError:""}),n.props.onRouteChange("home")):n.setState({registerError:e})})):n.setState({registerError:"Something went wrong"})},n.state={name:"",email:"",password:"",nameError:"",emailError:"",passwordError:"",registerError:""},n}return Object(n.a)(r,[{key:"render",value:function(){var e=this,t=this.state.nameError?l.a.createElement("p",{className:"error-message"},this.state.nameError):"",r=this.state.emailError?l.a.createElement("p",{className:"error-message"},this.state.emailError):"",a=this.state.passwordError?l.a.createElement("p",{className:"error-message"},this.state.passwordError):"",s=this.state.registerError?l.a.createElement("p",{className:"error-message"},this.state.registerError):"";return l.a.createElement("article",{className:"register br3 ba dark-gray b--black-10 mv4 mw6 shadow-5 center"},l.a.createElement("form",{className:"pa4 black-80"},l.a.createElement("div",{className:"measure"},l.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},l.a.createElement("h1",{className:"f1 fw6 ph0 mh0"},"Register"),l.a.createElement(c.a,{label:"Name",name:"name",type:"text",onChange:function(t){return e.onFieldChange(t,"name")},onKeyUp:this.handleKeyUp}),t,l.a.createElement(c.a,{label:"Email",name:"email-address",type:"email",onChange:function(t){return e.onFieldChange(t,"email")},onKeyUp:this.handleKeyUp}),r,l.a.createElement(c.a,{label:"Password",name:"password",type:"password",onChange:function(t){return e.onFieldChange(t,"password")},onKeyUp:this.handleKeyUp}),a),l.a.createElement(p.a,{value:"Register",type:"submit",onClick:this.onSubmitRegister,extraClass:"register"}),s)))}}]),r}(m.Component);t.default=u}}]);
//# sourceMappingURL=5.b0a7392e.chunk.js.map